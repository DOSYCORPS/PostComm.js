<!doctype html>
<meta charset="utf-8">
<title>PostComm.js Unit Tests (QUnit)</title>

<link href="http://code.jquery.com/qunit/qunit-1.12.0.css" rel="stylesheet">

<p>Window-based Tests</p>
<ul>
    <li>Disable any popup blocking to allow the window-based (popup) tests to function correctly
    <li>On your own server, you can skip these tests by editing the "skipWindowTests" variable in the source code of this file
</ul>

<p>To run the tests using your own domains:</p>
<ol>
    <li>Copy all files in this repository to a server
        <ul>
            <li>Running from the local filesystem will not work (file://)
            <li>Running locally via a local server is possible (try <a href="http://www.wampserver.com/">WAMP</a> for Windows, <a href="http://www.mamp.info/">MAMP</a> for OS X, or <a href="http://www.apachefriends.org/en/xampp.html">XAMPP</a> for Linux)
        </ul>
    <li>Copy these files to a server with a different domain
        <ul>
            <li>"PostComm.js"
            <li>"Testing.ChildHelper.html"
            <li>"Testing.Echo.html"
        </ul>
    <li>Change the path variables in the source code ("Test Options") of this file to the new url addresses on your servers to the relevant files
        <ul>
            <li>Feel free to use the jsfiddle.net versions instead of your own for the second (cross-domain) server's files
            <li>Make sure that all "Test.[test name].js" test files are in the same folder as this Testing.Main file
        </ul>
    <li>Navigate to the "Testing.Main.html" file on the first domain to run the tests
</ol>


<div id="qunit"></div>
<div id="qunit-fixture"></div>


<script>
// Test Options
var postCommJsPath = 'http://dwighthouse.github.io/PostComm.js/Testing/PostComm.js';
var sameDomainEchoPath = 'http://dwighthouse.github.io/PostComm.js/Testing/Testing.Echo.html'; // MUST be on same domain
var crossDomainEchoPath = 'http://jsfiddle.net/4HE6M/1/show/';
var sameDomainChildPath = 'http://dwighthouse.github.io/PostComm.js/Testing/Testing.ChildHelper.html'; // MUST be on same domain
var crossDomainChildPath = 'http://jsfiddle.net/BRnuX/2/show/';
var skipWindowTests = false;
</script>

<script>
    document.write('<script src="' + postCommJsPath + '"><\/script>');
</script>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="http://code.jquery.com/qunit/qunit-1.12.0.js"></script>
<script>

// Helper Utilities
function typeOf(value) {
    var s = typeof value;

    return (s !== 'object')         ? s :
           (!value)                 ? 'null' :
           (value instanceof Array) ? 'array' : 'object';
}

function createWindow(id, url) {
    return window.open(url, id, 'height=200,width=200');
}

function createIframe(id, url) {
    $('#qunit-fixture').append('<iframe id="LocalIframe-' + id + '" src="' + url + '"></iframe>');
    return $(('#LocalIframe-' + id))[0];
}

</script>

<script src="Test.CoreRequirements.js"></script>
<script src="Test.CommObject.js"></script>
<script src="Test.CommFinding.js"></script>
<script src="Test.EngageDisengage.js"></script>
<script src="Test.ChildIframeCommunication.js"></script>
<script src="Test.ChildWindowCommunication.js"></script>
<script src="Test.RoutingMessages.js"></script>
<script src="Test.DestroyedComms.js"></script>
<script src="Test.ParentIframeCommunication.js"></script>
<script src="Test.ParentWindowCommunication.js"></script>
